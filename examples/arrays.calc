arrMake(size, bytesize) = malloc(size*bytesize)
arrGet(arr, index, bytesize) = reduce((x,y)=x+(y<<8), slice(arr, index, bytesize))
arrSet(arr, index, bytesize, value) = map((x)=set(arr, index+x, value >> (x<<3) & 0xff), range(0, bytesize)); 0

mem = arrMake(1, 4)
arrSet(mem, 0, 4, 32754)
println(mem)
println(arrGet(mem, 0, 3))
